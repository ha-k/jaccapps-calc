<HTML>
<HEAD>
<TITLE>
CalculatorTokenizer.html
</TITLE>
<LINK REL="STYLESHEET" TYPE="text/css" HREF="D:/hak/hlt/classes/resources/Hilite.Style.css">
</HEAD>
<BODY BGCOLOR="#CCCCFF" TEXT="BLACK">
<CENTER>
<TABLE BGCOLOR=white WIDTH=50% BORDER=5 CELLPADDING=20>
<TR><TD ALIGN=CENTER>
<SPAN STYLE="FONT-SIZE:XX-LARGE"><TT><B>CalculatorTokenizer.java</B></TT></SPAN>
<P>
</TD></TR>
</TABLE>
</CENTER>
<PRE>
<SPAN STYLE="COLOR:WHITE"><EM>// FILE. . . . . /home/hak/hlt/src/hlt/language/jaccapps/calc/CalculatorTokenizer.java
</EM></SPAN><SPAN STYLE="COLOR:WHITE"><EM>// EDIT BY . . . Hassan Ait-Kaci
</EM></SPAN><SPAN STYLE="COLOR:WHITE"><EM>// ON MACHINE. . 4j4zn71
</EM></SPAN><SPAN STYLE="COLOR:WHITE"><EM>// STARTED ON. . Sun Nov 16 06:40:41 2008
</EM></SPAN>
<SPAN STYLE="COLOR:WHITE"><EM>// Last modified on Wed Jun 20 14:02:51 2012 by hak
</EM></SPAN>

</PRE>
<HR>
<CENTER>
<TABLE BGCOLOR="WHITE" WIDTH=90% BORDER=1 CELLPADDING=10>
<TR><TD><SPAN STYLE="COLOR:BLACK">

  CalculatorTokenizer.java
 
</SPAN></TD></TR>
</TABLE>
</CENTER>
<P>
<PRE>


<SPAN STYLE="COLOR:RED"><STRONG>import</STRONG></SPAN> java.io.*;
<SPAN STYLE="COLOR:RED"><STRONG>import</STRONG></SPAN> java.util.<SPAN STYLE="COLOR:#4400DD">Date</SPAN>;
<SPAN STYLE="COLOR:RED"><STRONG>import</STRONG></SPAN> hlt.language.syntax.*;
<SPAN STYLE="COLOR:RED"><STRONG>import</STRONG></SPAN> hlt.language.io.<SPAN STYLE="COLOR:#4400DD">StreamTokenizer</SPAN>;

<SPAN STYLE="COLOR:MAGENTA"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:RED"><STRONG>class</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD">CalculatorTokenizer</SPAN> <SPAN STYLE="COLOR:RED"><STRONG>implements</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD">Tokenizer</SPAN>
<SPAN STYLE="COLOR:GRAY">{</SPAN>
  <SPAN STYLE="COLOR:#4400DD">BufferedReader</SPAN> reader;
  <SPAN STYLE="COLOR:#4400DD">StreamTokenizer</SPAN> input;
  <SPAN STYLE="COLOR:#4400DD">String</SPAN> file = <SPAN STYLE="COLOR:GREEN"><EM>"stdin"</EM></SPAN>;

  <SPAN STYLE="COLOR:#4400DD">CalculatorTokenizer</SPAN> <SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN> <SPAN STYLE="COLOR:RED"><STRONG>throws</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD">IOException</SPAN>
    <SPAN STYLE="COLOR:GRAY">{</SPAN>
      setReader<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD">InputStreamReader</SPAN><SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:#4400DD">System</SPAN>.in<SPAN STYLE="COLOR:GRAY">)</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>;
      interactive = <SPAN STYLE="COLOR:GREEN">true</SPAN>;
      banner<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>;
      prompt<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>;
    <SPAN STYLE="COLOR:GRAY">}</SPAN>

  <SPAN STYLE="COLOR:#4400DD">CalculatorTokenizer</SPAN> <SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:#4400DD">File</SPAN> file<SPAN STYLE="COLOR:GRAY">)</SPAN> <SPAN STYLE="COLOR:RED"><STRONG>throws</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD">IOException</SPAN>
    <SPAN STYLE="COLOR:GRAY">{</SPAN>
      setReader<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD">FileReader</SPAN><SPAN STYLE="COLOR:GRAY">(</SPAN>file<SPAN STYLE="COLOR:GRAY">)</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>;
      interactive = <SPAN STYLE="COLOR:GREEN">false</SPAN>;
      banner<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>;
      <SPAN STYLE="COLOR:#4400DD">System</SPAN>.out.println<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GREEN"><EM>"*** Parsing file: "</EM></SPAN>+file<SPAN STYLE="COLOR:GRAY">)</SPAN>;
    <SPAN STYLE="COLOR:GRAY">}</SPAN>

  <SPAN STYLE="COLOR:#4400DD">CalculatorTokenizer</SPAN> <SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:#4400DD">String</SPAN> s<SPAN STYLE="COLOR:GRAY">)</SPAN> <SPAN STYLE="COLOR:RED"><STRONG>throws</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD">IOException</SPAN>
    <SPAN STYLE="COLOR:GRAY">{</SPAN>
      setReader<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD">StringReader</SPAN><SPAN STYLE="COLOR:GRAY">(</SPAN>s<SPAN STYLE="COLOR:GRAY">)</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>;
      interactive = <SPAN STYLE="COLOR:GREEN">false</SPAN>;
    <SPAN STYLE="COLOR:GRAY">}</SPAN>

  <SPAN STYLE="COLOR:MAGENTA"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:MAGENTA"><STRONG>final</STRONG></SPAN> <SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> lineNumber<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>
    <SPAN STYLE="COLOR:GRAY">{</SPAN>
      <SPAN STYLE="COLOR:BROWN"><STRONG>return</STRONG></SPAN> input.getLineNumber<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>;
    <SPAN STYLE="COLOR:GRAY">}</SPAN>

  <SPAN STYLE="COLOR:MAGENTA"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:MAGENTA"><STRONG>final</STRONG></SPAN> <SPAN STYLE="COLOR:BLUE"><STRONG>void</STRONG></SPAN> setReader <SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:#4400DD">Reader</SPAN> rd<SPAN STYLE="COLOR:GRAY">)</SPAN>
    <SPAN STYLE="COLOR:GRAY">{</SPAN>
      reader = <SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD">BufferedReader</SPAN><SPAN STYLE="COLOR:GRAY">(</SPAN>rd<SPAN STYLE="COLOR:GRAY">)</SPAN>;
      input = <SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD">StreamTokenizer</SPAN><SPAN STYLE="COLOR:GRAY">(</SPAN>reader<SPAN STYLE="COLOR:GRAY">)</SPAN>;
      input.ordinaryChars<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GREEN"><EM>"+-/"</EM></SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>;
      input.wordChars<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GREEN"><EM>'_'</EM></SPAN>,<SPAN STYLE="COLOR:GREEN"><EM>'_'</EM></SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>;
    <SPAN STYLE="COLOR:GRAY">}</SPAN>

  <SPAN STYLE="COLOR:MAGENTA"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:MAGENTA"><STRONG>final</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD">Reader</SPAN> getReader <SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>
    <SPAN STYLE="COLOR:GRAY">{</SPAN>
      <SPAN STYLE="COLOR:BROWN"><STRONG>return</STRONG></SPAN> reader;
    <SPAN STYLE="COLOR:GRAY">}</SPAN>

  <SPAN STYLE="COLOR:MAGENTA"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:MAGENTA"><STRONG>static</STRONG></SPAN> <SPAN STYLE="COLOR:BLUE"><STRONG>boolean</STRONG></SPAN> interactive;
  <SPAN STYLE="COLOR:MAGENTA"><STRONG>static</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD">String</SPAN> promptString = <SPAN STYLE="COLOR:GREEN"><EM>"&gt;"</EM></SPAN>;

  <SPAN STYLE="COLOR:MAGENTA"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:MAGENTA"><STRONG>static</STRONG></SPAN> <SPAN STYLE="COLOR:MAGENTA"><STRONG>final</STRONG></SPAN> <SPAN STYLE="COLOR:BLUE"><STRONG>void</STRONG></SPAN> prompt<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>
    <SPAN STYLE="COLOR:GRAY">{</SPAN>
      <SPAN STYLE="COLOR:#4400DD">System</SPAN>.out.print<SPAN STYLE="COLOR:GRAY">(</SPAN>promptString+<SPAN STYLE="COLOR:GREEN"><EM>" "</EM></SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>;
    <SPAN STYLE="COLOR:GRAY">}</SPAN>

  <SPAN STYLE="COLOR:MAGENTA"><STRONG>static</STRONG></SPAN> <SPAN STYLE="COLOR:MAGENTA"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:MAGENTA"><STRONG>final</STRONG></SPAN> <SPAN STYLE="COLOR:BLUE"><STRONG>void</STRONG></SPAN> setPrompt<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:#4400DD">String</SPAN> p<SPAN STYLE="COLOR:GRAY">)</SPAN>
    <SPAN STYLE="COLOR:GRAY">{</SPAN>
      promptString = p;
    <SPAN STYLE="COLOR:GRAY">}</SPAN>

  <SPAN STYLE="COLOR:MAGENTA"><STRONG>static</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD">String</SPAN> banner = <SPAN STYLE="COLOR:GREEN"><EM>"*** Welcome to the number calculator!\n"</EM></SPAN>+
                         <SPAN STYLE="COLOR:GREEN"><EM>"*** Version of "</EM></SPAN>+ <SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:BROWN"><STRONG>new</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD">Date</SPAN><SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>;

  <SPAN STYLE="COLOR:MAGENTA"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:MAGENTA"><STRONG>static</STRONG></SPAN> <SPAN STYLE="COLOR:MAGENTA"><STRONG>final</STRONG></SPAN> <SPAN STYLE="COLOR:BLUE"><STRONG>void</STRONG></SPAN> banner <SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>
    <SPAN STYLE="COLOR:GRAY">{</SPAN>
      <SPAN STYLE="COLOR:#4400DD">System</SPAN>.out.println<SPAN STYLE="COLOR:GRAY">(</SPAN>banner<SPAN STYLE="COLOR:GRAY">)</SPAN>;
    <SPAN STYLE="COLOR:GRAY">}</SPAN>

  <SPAN STYLE="COLOR:MAGENTA"><STRONG>final</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD">ParseNode</SPAN> locate <SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:#4400DD">ParseNode</SPAN> node<SPAN STYLE="COLOR:GRAY">)</SPAN>
    <SPAN STYLE="COLOR:GRAY">{</SPAN>
      <SPAN STYLE="COLOR:BROWN"><STRONG>return</STRONG></SPAN> <SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:#4400DD">ParseNode</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>node.setStart<SPAN STYLE="COLOR:GRAY">(</SPAN>input.tokenStart<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>.setEnd<SPAN STYLE="COLOR:GRAY">(</SPAN>input.tokenEnd<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>
	.setFile<SPAN STYLE="COLOR:GRAY">(</SPAN>file<SPAN STYLE="COLOR:GRAY">)</SPAN>;
    <SPAN STYLE="COLOR:GRAY">}</SPAN>

  <SPAN STYLE="COLOR:MAGENTA"><STRONG>public</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD">ParseNode</SPAN> nextToken<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN> <SPAN STYLE="COLOR:RED"><STRONG>throws</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD">IOException</SPAN>
    <SPAN STYLE="COLOR:GRAY">{</SPAN>
      <SPAN STYLE="COLOR:#4400DD">ParseNode</SPAN> t = <SPAN STYLE="COLOR:GREEN">null</SPAN>;
      <SPAN STYLE="COLOR:BLUE"><STRONG>int</STRONG></SPAN> token = input.nextToken<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>;
      <SPAN STYLE="COLOR:BROWN"><STRONG>switch</STRONG></SPAN> <SPAN STYLE="COLOR:GRAY">(</SPAN>token<SPAN STYLE="COLOR:GRAY">)</SPAN>
        <SPAN STYLE="COLOR:GRAY">{</SPAN>
        <SPAN STYLE="COLOR:BROWN"><STRONG>case</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD">StreamTokenizer</SPAN>.<SPAN STYLE="COLOR:GREEN">TT_EOF</SPAN>:
          reader.close<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>;
          t = <SPAN STYLE="COLOR:#4400DD">GenericParser</SPAN>.<SPAN STYLE="COLOR:GREEN">E_O_I</SPAN>;
          <SPAN STYLE="COLOR:BROWN"><STRONG>break</STRONG></SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>case</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD">StreamTokenizer</SPAN>.<SPAN STYLE="COLOR:GREEN">TT_WORD</SPAN>:
	  <SPAN STYLE="COLOR:BROWN"><STRONG>if</STRONG></SPAN> <SPAN STYLE="COLOR:GRAY">(</SPAN>input.sval == <SPAN STYLE="COLOR:GREEN"><EM>"exit"</EM></SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>
	    t = <SPAN STYLE="COLOR:#4400DD">GenericParser</SPAN>.literalToken<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GREEN"><EM>"exit"</EM></SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>;
	  <SPAN STYLE="COLOR:BROWN"><STRONG>else</STRONG></SPAN>
	    t = <SPAN STYLE="COLOR:#4400DD">GenericParser</SPAN>.symbolToken<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GREEN"><EM>"IDENTIFIER"</EM></SPAN>,input.sval<SPAN STYLE="COLOR:GRAY">)</SPAN>;
          <SPAN STYLE="COLOR:BROWN"><STRONG>break</STRONG></SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>case</STRONG></SPAN> <SPAN STYLE="COLOR:#4400DD">StreamTokenizer</SPAN>.<SPAN STYLE="COLOR:GREEN">TT_NUMBER</SPAN>:
          t = <SPAN STYLE="COLOR:#4400DD">GenericParser</SPAN>.numberToken<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:GREEN"><EM>"NUMBER"</EM></SPAN>,input.nval<SPAN STYLE="COLOR:GRAY">)</SPAN>;
          <SPAN STYLE="COLOR:BROWN"><STRONG>break</STRONG></SPAN>;
        <SPAN STYLE="COLOR:BROWN"><STRONG>default</STRONG></SPAN>:
          <SPAN STYLE="COLOR:BLUE"><STRONG>char</STRONG></SPAN> c = <SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:BLUE"><STRONG>char</STRONG></SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>token;       
          t = <SPAN STYLE="COLOR:#4400DD">GenericParser</SPAN>.literalToken<SPAN STYLE="COLOR:GRAY">(</SPAN><SPAN STYLE="COLOR:#4400DD">String</SPAN>.valueOf<SPAN STYLE="COLOR:GRAY">(</SPAN>c<SPAN STYLE="COLOR:GRAY">)</SPAN><SPAN STYLE="COLOR:GRAY">)</SPAN>;
          <SPAN STYLE="COLOR:BROWN"><STRONG>break</STRONG></SPAN>;
        <SPAN STYLE="COLOR:GRAY">}</SPAN>
      <SPAN STYLE="COLOR:BROWN"><STRONG>return</STRONG></SPAN> locate<SPAN STYLE="COLOR:GRAY">(</SPAN>t<SPAN STYLE="COLOR:GRAY">)</SPAN>;
    <SPAN STYLE="COLOR:GRAY">}</SPAN>
<SPAN STYLE="COLOR:GRAY">}</SPAN>




</PRE>
<P>
<HR>
<P ALIGN="RIGHT"><SPAN STYLE="COLOR:#F07070"><EM>
This file was generated on Mon Mar 26 09:21:26 CEST 2018 from file <SPAN STYLE="COLOR:BROWN"><KBD>CalculatorTokenizer.java</KBD></SPAN><BR>by the <SPAN STYLE="COLOR:BROWN"><KBD>hlt.language.tools.Hilite</KBD></SPAN> Java tool written by <A HREF="mailto:hak@acm.org">Hassan A&iuml;t-Kaci</A></EM></SPAN>
<P>
<HR>
</BODY>
</HTML>